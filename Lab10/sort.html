<!DOCTYPE html>
<html>
    <head>
        <title>
            Welcome to my page - 23BCE1156
        </title>
        <h1 align="center">
            Patients Data
        </h1>
        <script>
            let arr=[[1,"Alen",39],[2,"Deena",47],[3,"Diana",21],[4,"Jack",54],[5,"Jain",23],[6,"Kelvin",61],[7,"Louis",69],[8,"Rex",49]];
            for (i=0;i<arr.length;i++){
                for (j=0;j<arr.length-i-1;j++){
                    if (arr[j][2]<arr[j+1][2]){
                        temp=arr[j];
                        arr[j]=arr[j+1];
                        arr[j+1]=temp;
                    }
                }
            }    
        </script>
    </head>   
    <body>
        <table align="center" border="1" cellspacing="0" cellpadding="5">
            <tr>
                <th>
                    P-ID
                </th>
                <th>
                    Name
                </th>
                <th>
                    Age
                </th>
            </tr>
            <script>
                for (i=0;i<arr.length;i++){
                    document.write("<tr> <td>"+arr[i][0]+"</td> <td>"+arr[i][1]+"</td> <td>"+arr[i][2]+"</td>");
                }
            </script>
        </table>
        <br>
        <form>
            <b>Enter P-ID to search:</b>
            <input type="text" id="p">
            <input type="button" onclick=search() value="Submit">
            <p id="present"></p><br><br>
            <b>Enter Lower Range for Age:</b>
            <input type="text" id="low"><br><br>
            <b>Enter Upper Range for Age:</b>
            <input type="text" id="up"><br><br>
            <input type="button" onclick=filter() value="Submit"><br><br>
            <table id="t1" align="center" border="1" cellpadding="5" cellspacing="0"></table>
        </form>
        <script>
            function search(){
                pid=parseInt(document.getElementById("p").value);
                flag="Absent";
                for (i=0;i<arr.length;i++){
                    if (arr[i].includes(pid)){
                        flag="Present";
                    }
                }
                document.getElementById("present").innerHTML="PID "+flag;
            }
            function filter(){
                low=parseInt(document.getElementById("low").value);
                up=parseInt(document.getElementById("up").value);
                t1=document.getElementById("t1");
                t1.innerHTML="";
                t1.insertAdjacentHTML("beforeend","<tr> <th>P-ID</th> <th>Name</th> <th>Age</th>");
                for (i=0;i<arr.length;i++){
                    
                    if (arr[i][2]>=low && arr[i][2]<=up){
                        t1.insertAdjacentHTML("beforeend","<tr> <td>"+arr[i][0]+"</td> <td>"+arr[i][1]+"</td> <td>"+arr[i][2]+"</td>");
                    }
                }
            }
        </script>
    </body> 
</html>
